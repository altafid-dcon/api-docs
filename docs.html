<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Altafid API Documentation</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
        .copy-button {
            position: absolute;
            top: 8px;
            right: 8px;
            background: #3b82f6;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            z-index: 10;
        }
        .copy-button:hover { background: #2563eb; }
        .copy-button.copied { background: #10b981; }
        .code-block-wrapper { position: relative; }
        .method-badge { 
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 700;
            font-size: 12px;
            margin-right: 8px;
        }
        .method-post { background: #d1fae5; color: #065f46; }
        .method-get { background: #dbeafe; color: #1e40af; }
        .method-put { background: #fef3c7; color: #78350f; }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand"><h1>Altafid API</h1></div>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="quickstart.html">Quick Start</a></li>
                <li><a href="docs.html" class="active">Documentation</a></li>
                <li><a href="https://github.com/altafid-dcon/api-docs">GitHub</a></li>
            </ul>
        </div>
    </nav>

    <div class="container" style="padding: 3rem 20px;">
        <div class="doc-layout">
            <aside class="doc-sidebar">
                <h3>API Documentation</h3>
                <ul>
                    <li><a href="#overview">Overview</a></li>
                    <li><a href="#auth">Authentication</a></li>
                    <li><a href="#auth-login">POST /auth/login</a></li>
                    <li><a href="#auth-refresh">POST /auth/refresh</a></li>
                    <li><a href="#tasks">Tasks</a></li>
                    <li><a href="#tasks-create">POST /tasks</a></li>
                    <li><a href="#enums">Enums Reference</a></li>
                    <li><a href="#contacts">Tenant Contacts</a></li>
                    <li><a href="#contacts-search">GET /contacts</a></li>
                    <li><a href="#staff">Tenant Staff</a></li>
                    <li><a href="#staff-search">GET /staff/search</a></li>
                    <li><a href="#tasks-list">POST /tasks/filter</a></li>
                    <li><a href="#tasks-update">PUT /tasks/{id}</a></li>
                    <li><a href="#contacts-list">GET /contacts (list all)</a></li>
                    <li><a href="#staff-list">GET /staff/all</a></li>
                    <li><a href="#contacts-create">POST /contacts</a></li>
                    <li><a href="#accounts">Accounts</a></li>
                    <li><a href="#accounts-search">GET /accounts (search)</a></li>
                    <li><a href="#accounts-list">GET /accounts (list all)</a></li>
                </ul>
            </aside>

            <main class="doc-content">
                <h1 id="overview">Altafid API Documentation</h1>
                
                <div class="callout info">
                    <strong>Base URL:</strong> <code>https://api.altafid.dev.altafid.net</code><br>
                    <strong>Environment:</strong> UAT<br>
                    <strong>Tenant UUID:</strong> <code>T019A16FF372A70B5A9307B00CE85E4DA</code>
                </div>

                <h3>Test Credentials</h3>
                <table>
                    <tr><th>Username</th><td><code>kaboom-poc@yopmail.com</code></td></tr>
                    <tr><th>Password</th><td><code>Password123!</code></td></tr>
                </table>

                <h3>Global Headers (All Authenticated Requests)</h3>
                <table>
                    <thead><tr><th>Header</th><th>Value</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>Authorization</code></td><td><code>Bearer {token}</code></td><td>Access token from login</td></tr>
                        <tr><td><code>x-tenant-uuid</code></td><td><code>T019A16FF372A70B5A9307B00CE85E4DA</code></td><td>Tenant identifier</td></tr>
                        <tr><td><code>x-user-email</code></td><td><code>kaboom-poc@yopmail.com</code></td><td>User email</td></tr>
                        <tr><td><code>x-user-id</code></td><td><code>TS019C06688AA57248B9EA5325DBDFC48E</code></td><td>User staff UUID</td></tr>
                        <tr><td><code>x-user-type</code></td><td><code>TENANT_STAFF</code></td><td>User type</td></tr>
                    </tbody>
                </table>

                <!-- AUTHENTICATION -->
                <h2 id="auth">Authentication</h2>

                <h3 id="auth-login"><span class="method-badge method-post">POST</span>/api/auth/login</h3>
                <p>Authenticate and obtain access tokens</p>

                <h4>Request Body</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "username": "kaboom-poc@yopmail.com",
  "password": "Password123!"
}</code></pre>
                </div>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/auth/login' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'content-type: application/json' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  --data-raw '{"username":"kaboom-poc@yopmail.com","password":"Password123!"}'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "status": "LOGIN_SUCCESS",
  "token": "eyJhbGciOiJIUzI1NiJ9...",
  "refreshToken": "eyJhbGciOiJIUzI1NiJ9...",
  "username": "kaboom-poc@yopmail.com",
  "tenantUuid": "T019A16FF372A70B5A9307B00CE85E4DA",
  "tenantStaffUuid": "TS019C06688AA57248B9EA5325DBDFC48E",
  "tenantCode": "CONPAT_UAT",
  "userType": "TENANT_STAFF",
  "staffType": "ADMIN",
  "firstName": "kaboom",
  "lastName": "poc",
  "expiresIn": 3600000,
  "refreshExpiresIn": 604800000
}</code></pre>
                </div>

                <h4>Response Fields</h4>
                <table>
                    <thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>token</code></td><td>string</td><td>Access token (expires in 1 hour)</td></tr>
                        <tr><td><code>refreshToken</code></td><td>string</td><td>Refresh token (expires in 7 days)</td></tr>
                        <tr><td><code>tenantUuid</code></td><td>string</td><td>Use in x-tenant-uuid header</td></tr>
                        <tr><td><code>tenantStaffUuid</code></td><td>string</td><td>Use in x-user-id header</td></tr>
                        <tr><td><code>username</code></td><td>string</td><td>Use in x-user-email header</td></tr>
                        <tr><td><code>expiresIn</code></td><td>number</td><td>Milliseconds until expiration (3600000 = 1 hour)</td></tr>
                    </tbody>
                </table>

                <h3 id="auth-refresh"><span class="method-badge method-post">POST</span>/api/auth/refresh</h3>
                <p>Refresh expired access token</p>

                <h4>Request Body</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "refreshToken": "eyJhbGciOiJIUzI1NiJ9..."
}</code></pre>
                </div>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/auth/refresh' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'content-type: application/json' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  --data-raw '{"refreshToken":"YOUR_REFRESH_TOKEN"}'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "token": "eyJhbGciOiJIUzI1NiJ9...",
  "refreshToken": "eyJhbGciOiJIUzI1NiJ9...",
  "expiresIn": 3600000
}</code></pre>
                </div>

                <!-- TASKS -->
                <h2 id="tasks">Tasks</h2>

                <h3 id="tasks-create"><span class="method-badge method-post">POST</span>/api/tasks</h3>
                <p>Create a new task</p>

                <div class="callout warning">
                    <strong>‚ö†Ô∏è Important:</strong>
                    <br>
                    <code>Kaboom AI integration can use this API to create a new task</code>
                    <br>
                    <code>partnerId</code> must equal <code>tenantUuid</code> = <code>T019A16FF372A70B5A9307B00CE85E4DA</code>
                </div>

                <h4>Request Body</h4>
                <table>
                    <thead><tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>taskName</code></td><td>string</td><td>‚úÖ</td><td>Task title</td></tr>
                        <tr><td><code>taskType</code></td><td>enum</td><td>‚úÖ</td><td><code>EMAIL</code>, <code>CALL</code>, <code>TODO</code></td></tr>
                        <tr><td><code>queue</code></td><td>enum</td><td>‚úÖ</td><td>See enums reference below</td></tr>
                        <tr><td><code>status</code></td><td>enum</td><td>‚úÖ</td><td>Queue-specific status (see matrix below)</td></tr>
                        <tr><td><code>priority</code></td><td>enum</td><td>‚úÖ</td><td><code>HIGH</code>, <code>MEDIUM</code>, <code>LOW</code></td></tr>
                        <tr><td><code>partnerId</code></td><td>string</td><td>‚úÖ</td><td>Must be tenantUuid (T019A16FF372A70B5A9307B00CE85E4DA)</td></tr>
                        <tr><td><code>contactId</code></td><td>string</td><td>No</td><td>Contact UUID (from contacts API)</td></tr>
                        <tr><td><code>assignedToId</code></td><td>string</td><td>‚úÖ</td><td>Staff UUID (from staff API)</td></tr>
                        <tr><td><code>dueDate</code></td><td>string</td><td>‚úÖ</td><td>ISO 8601 format</td></tr>
                        <tr><td><code>description</code></td><td>string</td><td>‚úÖ</td><td>HTML supported</td></tr>
                        <tr><td><code>createdById</code></td><td>string</td><td>‚úÖ</td><td>Creator staff UUID</td></tr>
                        <tr><td><code>createdByType</code></td><td>string</td><td>‚úÖ</td><td><code>ADVISOR_STAFF</code></td></tr>
                    </tbody>
                </table>

                <h4>Request Example</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "taskName": "TestEmail",
  "taskType": "EMAIL",
  "queue": "ACCOUNT_ONBOARDING",
  "status": "PENDING_DOCUMENTS",
  "priority": "HIGH",
  "partnerId": "T019A16FF372A70B5A9307B00CE85E4DA",
  "contactId": "C019A5EE30BE0703E97DF93284EDE4CFE",
  "assignedToId": "TS019C06688AA57248B9EA5325DBDFC48E",
  "dueDate": "2026-01-29T00:00:00.000Z",
  "description": "<p>Test</p>",
  "createdById": "TS019C06688AA57248B9EA5325DBDFC48E",
  "createdByType": "ADVISOR_STAFF"
}</code></pre>
                </div>

                <h4>cURL: Complete Task Creation Example</h4>
                
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/tasks' \
  -H 'accept: application/json' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'content-type: application/json' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF' \
  --data-raw '{"taskName":"TestEmail","taskType":"EMAIL","queue":"ACCOUNT_ONBOARDING","status":"PENDING_DOCUMENTS","priority":"HIGH","partnerId":"T019A16FF372A70B5A9307B00CE85E4DA","contactId":"C019A5EE30BE0703E97DF93284EDE4CFE","assignedToId":"TS019C06688AA57248B9EA5325DBDFC48E","dueDate":"2026-01-29T00:00:00.000Z","description":"<p>Test</p>","createdById":"TS019C06688AA57248B9EA5325DBDFC48E","createdByType":"ADVISOR_STAFF"}'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "id": 536,
  "tenantUuid": "T019A16FF372A70B5A9307B00CE85E4DA",
  "taskNumber": "AO-3",
  "taskName": "TestEmail",
  "taskType": "EMAIL",
  "queue": "ACCOUNT_ONBOARDING",
  "status": "PENDING_DOCUMENTS",
  "priority": "HIGH",
  "partnerId": "T019A16FF372A70B5A9307B00CE85E4DA",
  "partnerName": "CONPAT_UAT",
  "contactId": "C019A5EE30BE0703E97DF93284EDE4CFE",
  "contactName": "Alejandra Kabakian",
  "assignedToId": "TS019C06688AA57248B9EA5325DBDFC48E",
  "assignedToName": "kaboom poc",
  "dueDate": "2026-01-29T00:00:00",
  "description": "<p>Test</p>",
  "deleted": false,
  "createdByType": "ADVISOR_STAFF",
  "createdById": "TS019C06688AA57248B9EA5325DBDFC48E",
  "createdByName": "kaboom poc",
  "createdAt": "2026-01-28T21:32:56.430351",
  "updatedAt": "2026-01-28T21:32:56.430353"
}</code></pre>
                </div>

                <!-- ENUMS -->
                <h2 id="enums">Enums Reference</h2>

                <h3>Task Types</h3>
                <table>
                    <thead><tr><th>Value</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>EMAIL</code></td><td>Email task</td></tr>
                        <tr><td><code>CALL</code></td><td>Phone call task</td></tr>
                        <tr><td><code>TODO</code></td><td>To-do item (displays as TO_DO in UI)</td></tr>
                    </tbody>
                </table>

                <h3>Priority Levels</h3>
                <table>
                    <thead><tr><th>Value</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>HIGH</code></td><td>High priority</td></tr>
                        <tr><td><code>MEDIUM</code></td><td>Medium priority</td></tr>
                        <tr><td><code>LOW</code></td><td>Low priority</td></tr>
                    </tbody>
                </table>

                <h3>Queues & Allowed Statuses</h3>

                <table>
                    <thead><tr><th>Queue</th><th>Allowed Statuses</th></tr></thead>
                    <tbody>
                        <tr>
                            <td><code>SALES</code></td>
                            <td><code>OPEN</code>, <code>IN_PROGRESS</code>, <code>DONE</code></td>
                        </tr>
                        <tr>
                            <td><code>CUSTOMER_SERVICE</code></td>
                            <td><code>OPEN</code>, <code>IN_PROGRESS</code>, <code>DONE</code></td>
                        </tr>
                        <tr>
                            <td><code>ACCOUNT_ONBOARDING</code></td>
                            <td><code>OPEN</code>, <code>IN_PROGRESS</code>, <code>CLOSED</code>, <code>STAND_BY</code>, <code>PENDING_DOCUMENTS</code>, <code>SIGNATURE</code>, <code>BANK_APPROVAL</code>, <code>CASH_ASSETS_DEPOSIT</code>, <code>CLIENT_WEB_CREDENTIALS</code>, <code>ACCOUNT_REVIEW</code></td>
                        </tr>
                        <tr>
                            <td><code>GENERAL</code></td>
                            <td><code>OPEN</code>, <code>IN_PROGRESS</code>, <code>DONE</code></td>
                        </tr>
                        <tr>
                            <td><code>INVESTMENT</code></td>
                            <td><code>OPEN</code>, <code>IN_PROGRESS</code>, <code>DONE</code></td>
                        </tr>
                        <tr>
                            <td><code>PROSPECTS_FLOW</code></td>
                            <td><code>PROSPECT</code>, <code>PENDING_MEETING</code>, <code>PENDING_DOCUMENTS</code>, <code>PENDING_CONFIGURATION</code>, <code>PENDING_PRESENTATION</code>, <code>PENDING_REPORT</code>, <code>PENDING_CONFIRMATION</code>, <code>CLOSED_PROSPECT</code></td>
                        </tr>
                        <tr>
                            <td><code>BUSINESS</code></td>
                            <td><code>ACCOUNT_CREATION</code>, <code>PENDING_SIGNATURE</code>, <code>PENDING_TRANSFER</code>, <code>DONE</code></td>
                        </tr>
                    </tbody>
                </table>

                <!-- CONTACTS -->
                <h2 id="contacts">Contacts</h2>
                <p>Use contacts API to get <code>contactId</code> for task creation</p>

                <h3 id="contacts-search"><span class="method-badge method-get">GET</span>/api/contacts/firm/TENANT/{tenantUuid}?searchTerm={term}</h3>
                <p>Search contacts by name or email</p>

                <h4>Query Parameters</h4>
                <table>
                    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>searchTerm</code></td><td>string</td><td>No</td><td>Search by first/last name or email</td></tr>
                        <tr><td><code>page</code></td><td>integer</td><td>No</td><td>Page number (default: 0)</td></tr>
                        <tr><td><code>size</code></td><td>integer</td><td>No</td><td>Page size (default: 20)</td></tr>
                    </tbody>
                </table>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/contacts/firm/TENANT/T019A16FF372A70B5A9307B00CE85E4DA?page=0&size=20&searchTerm=Mark' \
  -H 'accept: application/json' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "content": [
    {
      "displayName": "Mark Henry",
      "contactUuid": "C019C03AFB97379B48C926FCE1552D05F",
      "firstName": "Mark",
      "middleName": null,
      "paternalLastName": "Henry",
      "maternalLastName": null,
      "contactType": "ACTIVE",
      "status": "ACTIVE",
      "firmType": "TENANT",
      "firmEntityUuid": "T019A16FF372A70B5A9307B00CE85E4DA",
      "firmName": "CONPAT_UAT",
      "preferredEmail": "mark@gmail.com",
      "primaryEmail": "mark@gmail.com",
      "preferredPhoneNumber": {
        "country": "IN",
        "phoneCountryCode": "+91",
        "phoneNumber": "9844521687"
      },
      "contactMeans": "PHONE",
      "preferredContactLanguage": "ENGLISH"
    },
    {
      "displayName": "Stephen Mark Kerr .",
      "contactUuid": "C019A5EE77B9F72F3847EA5CB38237A2A",
      "firstName": "Stephen",
      "middleName": "Mark",
      "paternalLastName": "Kerr",
      "maternalLastName": ".",
      "contactType": "SUBSCRIBER",
      "status": "ACTIVE",
      "preferredEmail": "stephenkerr@nielsen.com",
      "primaryEmail": "",
      "preferredPhoneNumber": {
        "country": "CL",
        "phoneCountryCode": "+56",
        "phoneNumber": "982195593"
      }
    }
  ],
  "totalElements": 2,
  "totalPages": 1
}</code></pre>
                </div>

                <div class="callout info">
                    <strong>üí° Use <code>contactUuid</code></strong> as <code>contactId</code> when creating tasks
                </div>

                <!-- STAFF -->
                <h2 id="staff">Tenant Staff</h2>
                <p>Use staff API to get <code>assignedToId</code> for task creation</p>

                <h3 id="staff-search"><span class="method-badge method-get">GET</span>/api/tenant-staff/search?name={name}</h3>
                <p>Search staff members by name</p>

                <h4>Query Parameters</h4>
                <table>
                    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>name</code></td><td>string</td><td>Yes</td><td>Search by first/last name or email</td></tr>
                        <tr><td><code>page</code></td><td>integer</td><td>No</td><td>Page number (default: 0)</td></tr>
                        <tr><td><code>size</code></td><td>integer</td><td>No</td><td>Page size (default: 20)</td></tr>
                    </tbody>
                </table>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/tenant-staff/search?page=0&size=20&name=kab' \
  -H 'accept: application/json' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "content": [
    {
      "tenantStaffUuid": "TS019C06688AA57248B9EA5325DBDFC48E",
      "tenantUuid": "T019A16FF372A70B5A9307B00CE85E4DA",
      "firstName": "kaboom",
      "middleName": "",
      "paternalLastName": "poc",
      "maternalLastName": "",
      "userEmail": "kaboom-poc@yopmail.com",
      "email": "kaboom-poc@yopmail.com",
      "staffType": "ADMIN",
      "legalResidence": "United States",
      "timeZone": "UTC -5:00",
      "platformLanguage": "en-US",
      "commissionCurrency": "USD",
      "contactPhone": null,
      "jobPosition": null,
      "dateOfBirth": null,
      "currentResidence": null,
      "isActive": true,
      "createdAt": "2026-01-28T21:00:40.613087",
      "updatedAt": "2026-01-28T21:02:03.638174"
    }
  ],
  "totalElements": 1,
  "totalPages": 1
}</code></pre>
                </div>

                <div class="callout info">
                    <strong>üí° Use <code>tenantStaffUuid</code></strong> as <code>assignedToId</code> when creating tasks
                </div>

                
                
                

                <!-- LIST TASKS -->
                <h3 id="tasks-list"><span class="method-badge method-post">POST</span>/api/tasks/filter?page={page}&size={size}</h3>
                <p>Retrieve a paginated list of tasks with optional filters</p>

                <h4>Query Parameters</h4>
                <table>
                    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>page</code></td><td>integer</td><td>No</td><td>Page number (default: 0)</td></tr>
                        <tr><td><code>size</code></td><td>integer</td><td>No</td><td>Page size (default: 20)</td></tr>
                    </tbody>
                </table>

                <h4>Request Body</h4>
                <table>
                    <thead><tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>formUuid</code></td><td>string</td><td>No</td><td>Form UUID filter</td></tr>
                        <tr><td><code>langCode</code></td><td>string</td><td>No</td><td>Language code (e.g., en-US)</td></tr>
                    </tbody>
                </table>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/tasks/filter?page=0&size=20' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'content-type: application/json' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF' \
  --data-raw '{"formUuid":"FF019ACE73F70976DFA062DF0E93EFBCAE","langCode":"en-US"}'</code></pre>
                </div>

                <!-- UPDATE TASK -->
                <h3 id="tasks-update"><span class="method-badge method-put">PUT</span>/api/tasks/{taskId}</h3>
                <p>Update an existing task by ID</p>

                <h4>Path Parameters</h4>
                <table>
                    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>taskId</code></td><td>integer</td><td>‚úÖ</td><td>Task ID from task creation response</td></tr>
                    </tbody>
                </table>

                <h4>Request Body</h4>
                <p>Send only the fields you want to update. All fields from the create task API are supported.</p>
                <table>
                    <thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>taskName</code></td><td>string</td><td>Task title</td></tr>
                        <tr><td><code>taskType</code></td><td>enum</td><td><code>EMAIL</code>, <code>CALL</code>, <code>TODO</code></td></tr>
                        <tr><td><code>queue</code></td><td>enum</td><td>Task queue</td></tr>
                        <tr><td><code>status</code></td><td>enum</td><td>Task status</td></tr>
                        <tr><td><code>priority</code></td><td>enum</td><td><code>HIGH</code>, <code>MEDIUM</code>, <code>LOW</code></td></tr>
                        <tr><td><code>assignedToId</code></td><td>string</td><td>Staff UUID</td></tr>
                        <tr><td><code>dueDate</code></td><td>string</td><td>ISO 8601 format</td></tr>
                        <tr><td><code>description</code></td><td>string</td><td>Task description (HTML supported)</td></tr>
                    </tbody>
                </table>

                <h4>Request Example (Update Priority)</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "priority": "MEDIUM"
}</code></pre>
                </div>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/tasks/536' \
  -X 'PUT' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'content-type: application/json' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF' \
  --data-raw '{"priority":"MEDIUM"}'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <p>Returns the updated task object with the same structure as the create task response.</p>
<!-- LIST ALL CONTACTS -->
<h3 id="contacts-list"><span class="method-badge method-get">GET</span>/api/contacts/firm/TENANT/{tenantUuid}?page={page}&size={size}</h3>
<p>List all tenant contacts with pagination</p>

<h4>Query Parameters</h4>
<table>
    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
    <tbody>
        <tr><td><code>page</code></td><td>integer</td><td>No</td><td>Page number (default: 0)</td></tr>
        <tr><td><code>size</code></td><td>integer</td><td>No</td><td>Page size (default: 20)</td></tr>
    </tbody>
</table>

<h4>cURL</h4>
<div class="code-block-wrapper">
    <button class="copy-button" onclick="copyCode(this)">Copy</button>
    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/contacts/firm/TENANT/T019A16FF372A70B5A9307B00CE85E4DA?page=0&size=20' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF'</code></pre>
</div>

<!-- LIST ALL STAFF -->
<h3 id="staff-list"><span class="method-badge method-get">GET</span>/api/tenant-staff/all/paginated?page={page}&size={size}</h3>
<p>List all tenant staff with pagination</p>

<h4>Query Parameters</h4>
<table>
    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
    <tbody>
        <tr><td><code>page</code></td><td>integer</td><td>No</td><td>Page number (default: 0)</td></tr>
        <tr><td><code>size</code></td><td>integer</td><td>No</td><td>Page size (default: 20)</td></tr>
    </tbody>
</table>

<h4>cURL</h4>
<div class="code-block-wrapper">
    <button class="copy-button" onclick="copyCode(this)">Copy</button>
    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/tenant-staff/all/paginated?page=0&size=20' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF'</code></pre>
</div>

<!-- CREATE CONTACT -->
<h3 id="contacts-create"><span class="method-badge method-post">POST</span>/api/contacts</h3>
<p>Create a new contact</p>

<div class="callout warning">
    <strong>‚ö†Ô∏è Important:</strong> 
    <br>
    <code>Kaboom AI integration can use this API to create a new lead/contact</code>
    <br>
    <code>firmId</code> must equal <code>tenantUuid</code> = <code>T019A16FF372A70B5A9307B00CE85E4DA</code>
</div>

<h4>Request Body</h4>
<table>
    <thead><tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
    <tbody>
        <tr><td><code>firstName</code></td><td>string</td><td>‚úÖ</td><td>First name</td></tr>
        <tr><td><code>middleName</code></td><td>string</td><td>No</td><td>Middle name</td></tr>
        <tr><td><code>paternalLastName</code></td><td>string</td><td>‚úÖ</td><td>Paternal last name</td></tr>
        <tr><td><code>maternalLastName</code></td><td>string</td><td>No</td><td>Maternal surname</td></tr>
        <tr><td><code>preferredEmail</code></td><td>string</td><td>‚úÖ*</td><td>Email address (*required if no phone)</td></tr>
        <tr><td><code>phoneNumber</code></td><td>object</td><td>‚úÖ*</td><td>Phone number object (*required if no email)</td></tr>
        <tr><td><code>contactMeans</code></td><td>enum</td><td>‚úÖ</td><td><code>EMAIL</code>, <code>PHONE</code></td></tr>
        <tr><td><code>contactType</code></td><td>enum</td><td>‚úÖ</td><td><code>SUBSCRIBER</code></td></tr>
        <tr><td><code>status</code></td><td>enum</td><td>‚úÖ</td><td><code>ACTIVE</code></td></tr>
        <tr><td><code>firmId</code></td><td>string</td><td>‚úÖ</td><td>Must be tenantUuid (T019A16FF372A70B5A9307B00CE85E4DA)</td></tr>
        <tr><td><code>firmType</code></td><td>string</td><td>‚úÖ</td><td><code>TENANT</code></td></tr>
        <tr><td><code>preferredContactLanguage</code></td><td>string</td><td>‚úÖ</td><td><code>ENGLISH</code></td></tr>
        <tr><td><code>contactManagerId</code></td><td>string</td><td>No</td><td>Staff UUID (from staff search API)</td></tr>
        <tr><td><code>contactManagerFirmType</code></td><td>string</td><td>No</td><td><code>TENANT</code></td></tr>
        <tr><td><code>stage</code></td><td>string</td><td>No</td><td>etapa1 or etapa2 or etapa3</td></tr>
    </tbody>
</table>

<div class="callout info">
    <strong>üí° Note:</strong> At least one contact means (email or phone) is required. Use <code>contactManagerId</code> from the <a href="#staff-search">staff search API</a> to assign a contact manager.
</div>

<h4>Request Example</h4>
<div class="code-block-wrapper">
    <button class="copy-button" onclick="copyCode(this)">Copy</button>
    <pre><code>{
  "firstName": "poc",
  "paternalLastName": "last",
  "contactType": "SUBSCRIBER",
  "firmId": "T019A16FF372A70B5A9307B00CE85E4DA",
  "firmType": "TENANT",
  "preferredContactLanguage": "ENGLISH",
  "status": "ACTIVE",
  "middleName": "middle",
  "maternalLastName": "maternal",
  "preferredEmail": "poctestcontact@example.com",
  "contactManagerId": "TS019A25A48E6177E8B989E9AECCA3F6DF",
  "stage": "etapa2",
  "contactMeans": "EMAIL",
  "contactManagerFirmType": "TENANT"
}</code></pre>
</div>

<h4>cURL</h4>
<div class="code-block-wrapper">
    <button class="copy-button" onclick="copyCode(this)">Copy</button>
    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/contacts' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'content-type: application/json' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF' \
  --data-raw '{"firstName":"poc","paternalLastName":"last","contactType":"SUBSCRIBER","firmId":"T019A16FF372A70B5A9307B00CE85E4DA","firmType":"TENANT","preferredContactLanguage":"ENGLISH","status":"ACTIVE","middleName":"middle","maternalLastName":"maternal","preferredEmail":"poctestcontact@example.com","contactManagerId":"TS019A25A48E6177E8B989E9AECCA3F6DF","stage":"etapa2","contactMeans":"EMAIL","contactManagerFirmType":"TENANT"}'</code></pre>
</div>

<h4>Response 201 Created</h4>
<div class="code-block-wrapper">
    <button class="copy-button" onclick="copyCode(this)">Copy</button>
    <pre><code>{
  "contactUuid": "C019A5EE30BE0703E97DF93284EDE4CFE",
  "firstName": "poc",
  "middleName": "middle",
  "paternalLastName": "last",
  "maternalLastName": "maternal",
  "displayName": "poc middle last maternal",
  "preferredEmail": "poctestcontact@example.com",
  "contactType": "SUBSCRIBER",
  "status": "ACTIVE",
  "firmType": "TENANT",
  "firmEntityUuid": "T019A16FF372A70B5A9307B00CE85E4DA",
  "preferredContactLanguage": "ENGLISH",
  "contactMeans": "EMAIL",
  "createdAt": "2026-01-29T04:30:00.000000",
  "updatedAt": "2026-01-29T04:30:00.000000"
}</code></pre>
</div>

<!-- ACCOUNTS -->
<h2 id="accounts">Accounts</h2>

<!-- SEARCH ACCOUNTS -->
<h3 id="accounts-search"><span class="method-badge method-get">GET</span>/api/accounts/linked?keyword={keyword}</h3>
<p>Search linked accounts by account number or keyword</p>

<h4>Query Parameters</h4>
<table>
    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
    <tbody>
        <tr><td><code>keyword</code></td><td>string</td><td>No</td><td>Search by account number or name</td></tr>
        <tr><td><code>page</code></td><td>integer</td><td>No</td><td>Page number (default: 0)</td></tr>
        <tr><td><code>size</code></td><td>integer</td><td>No</td><td>Page size (default: 50)</td></tr>
        <tr><td><code>sort</code></td><td>string</td><td>No</td><td>Sort field (e.g., accountNumber)</td></tr>
    </tbody>
</table>

<h4>cURL</h4>
<div class="code-block-wrapper">
    <button class="copy-button" onclick="copyCode(this)">Copy</button>
    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/accounts/linked?page=0&size=50&sort=accountNumber&keyword=11' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF'</code></pre>
</div>

<h4>Response 200 OK</h4>
<div class="code-block-wrapper">
    <button class="copy-button" onclick="copyCode(this)">Copy</button>
    <pre><code>{
  "content": [
    {
      "accountUuid": "14c5c174-4e5f-5be7-bb73-d7d511452ef5",
      "linkState": "linked",
      "linkDate": "2000-01-01T00:00:00",
      "tenantUuid": "T019A16FF372A70B5A9307B00CE85E4DA",
      "accountNumber": "11000457",
      "custodian": "stonex",
      "accountStatus": "O",
      "accountType": "UNKNOWN",
      "marginAccount": true,
      "taxResidency": null,
      "disposalMethodForMutualFunds": "FIFO",
      "disposalMethodForOtherSecurities": "FIFO",
      "w8W9Indicator": null,
      "baseCurrency": "USD",
      "defaultFxCurrency": "USD",
      "positionOnly": true,
      "taxable": true,
      "householdUuid": "H019A691D490478708B45387D9212BA1A",
      "householdName": "Sociedad De Inversiones Macam Limitada",
      "partnershipManagerUuid": "",
      "partnershipManagerName": "",
      "relationshipManagerUuid": "TS019A5F3EFF7476BEA03564E19B3AEBE1",
      "relationshipManagerName": "Sebasti√°n Costa",
      "snapshotDate": "2025-11-27T00:00:00",
      "distinctFxCurrencies": "USD/USDE",
      "trading": "Discretionary",
      "currentEodBalanceClp": 348838258.54,
      "previousEodBalanceClp": 349429695.45,
      "netDepositsClp": 0.00,
      "dayChangeClp": -591436.91,
      "gainLossClp": -591436.91,
      "currentEodBalanceEur": 320815.20,
      "previousEodBalanceEur": 320755.02,
      "netDepositsEur": 0.00,
      "dayChangeEur": 60.18,
      "gainLossEur": 60.18,
      "currentEodBalanceUsd": 375442.02,
      "previousEodBalanceUsd": 375371.59,
      "netDepositsUsd": 0.00,
      "dayChangeUsd": 70.43,
      "gainLossUsd": 70.43
    }
  ],
  "page": 0,
  "size": 50,
  "totalElements": 1,
  "totalPages": 1
}</code></pre>
</div>

<!-- LIST ALL ACCOUNTS -->
<h3 id="accounts-list"><span class="method-badge method-get">GET</span>/api/accounts/linked</h3>
<p>List all linked accounts with pagination</p>

<h4>Query Parameters</h4>
<table>
    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
    <tbody>
        <tr><td><code>page</code></td><td>integer</td><td>No</td><td>Page number (default: 0)</td></tr>
        <tr><td><code>size</code></td><td>integer</td><td>No</td><td>Page size (default: 50)</td></tr>
        <tr><td><code>sort</code></td><td>string</td><td>No</td><td>Sort field (e.g., accountNumber)</td></tr>
        <tr><td><code>keyword</code></td><td>string</td><td>No</td><td>Leave empty to list all accounts</td></tr>
    </tbody>
</table>

<h4>cURL</h4>
<div class="code-block-wrapper">
    <button class="copy-button" onclick="copyCode(this)">Copy</button>
    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/accounts/linked?page=0&size=50&sort=accountNumber&keyword=' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF'</code></pre>
</div>

<h4>Response 200 OK</h4>
<p>Returns the same structure as the search endpoint with paginated account data.</p>

<div class="callout info">
    <strong>üí° Use <code>accountUuid</code></strong> to reference accounts in other API calls
</div>
            </main>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2026 Altafid. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        function copyCode(btn) {
            const code = btn.nextElementSibling.querySelector('code').textContent;
            navigator.clipboard.writeText(code).then(() => {
                btn.textContent = 'Copied!';
                btn.classList.add('copied');
                setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('copied'); }, 2000);
            });
        }
    </script>
</body>
</html>