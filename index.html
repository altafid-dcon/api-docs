<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Altafid API Documentation</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
        .copy-button {
            position: absolute;
            top: 8px;
            right: 8px;
            background: #3b82f6;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            z-index: 10;
        }
        .copy-button:hover { background: #2563eb; }
        .copy-button.copied { background: #10b981; }
        .code-block-wrapper { position: relative; }
        .method-badge { 
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 700;
            font-size: 12px;
            margin-right: 8px;
        }
        .method-post { background: #d1fae5; color: #065f46; }
        .method-get { background: #dbeafe; color: #1e40af; }
        .method-put { background: #fef3c7; color: #78350f; }
        
        /* Sidebar grouping styles */
        .sidebar-section {
            margin-bottom: 1.5rem;
        }
        .sidebar-section-title {
            font-size: 0.85rem;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 0.5rem;
            padding-left: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .sidebar-section ul {
            list-style: none;
            margin-left: 0;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand"><h1>Altafid API</h1></div>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="quickstart.html">Quick Start</a></li>
                <li><a href="docs.html" class="active">Documentation</a></li>
                <li><a href="https://github.com/altafid-dcon/api-docs">GitHub</a></li>
            </ul>
        </div>
    </nav>

    <div class="container" style="padding: 3rem 20px;">
        <div class="doc-layout">
            <aside class="doc-sidebar">
                <h3>API Documentation</h3>
                
                <div class="sidebar-section">
                    <ul>
                        <li><a href="#overview">Overview</a></li>
                        <li><a href="#auth">Authentication</a></li>
                        <li><a href="#auth-login">POST /auth/login</a></li>
                        <li><a href="#auth-refresh">POST /auth/refresh</a></li>
                        <li><a href="#enums">Enums Reference</a></li>
                    </ul>
                </div>
                
                <div class="sidebar-section">
                    <div class="sidebar-section-title">Tasks</div>
                    <ul>
                        <li><a href="#tasks">Overview</a></li>
                        <li><a href="#tasks-create">POST /tasks</a></li>
                        <li><a href="#tasks-list">POST /tasks/filter</a></li>
                        <li><a href="#tasks-update">PUT /tasks/{id}</a></li>
                    </ul>
                </div>
                
                <div class="sidebar-section">
                    <div class="sidebar-section-title">Contacts</div>
                    <ul>
                        <li><a href="#contacts">Overview</a></li>
                        <li><a href="#contacts-search">GET /contacts (search)</a></li>
                        <li><a href="#contacts-list">GET /contacts (list all)</a></li>
                        <li><a href="#contacts-detail">GET /contacts/{contactUuid}</a></li>
                        <li><a href="#contacts-create">POST /contacts</a></li>
                    </ul>
                </div>

                <div class="sidebar-section">
                    <div class="sidebar-section-title">Notes</div>
                    <ul>
                        <li><a href="#notes">Overview</a></li>
                        <li><a href="#notes-create">POST /notes/contacts/{id}</a></li>
                        <li><a href="#notes-update">PUT /notes/{noteId}</a></li>
                        <li><a href="#notes-attachments-init">POST /attachments/init</a></li>
                        <li><a href="#notes-attachments-upload">PUT S3 Upload</a></li>
                        <li><a href="#notes-attachments-confirm">POST /attachments/confirm</a></li>
                    </ul>
                </div>

                <div class="sidebar-section">
                    <div class="sidebar-section-title">Households</div>
                    <ul>
                        <li><a href="#households">Overview</a></li>
                        <li><a href="#households-list">POST /v2/households</a></li>
                        <li><a href="#households-detail">GET /households/{id}/detail</a></li>
                        <li><a href="#households-members">GET /households/{id}/members</a></li>
                    </ul>
                </div>
                
                <div class="sidebar-section">
                    <div class="sidebar-section-title">Staff</div>
                    <ul>
                        <li><a href="#staff">Overview</a></li>
                        <li><a href="#staff-search">GET /staff/search</a></li>
                        <li><a href="#staff-list">GET /staff/all</a></li>
                    </ul>
                </div>
                
                <div class="sidebar-section">
                    <div class="sidebar-section-title">Accounts</div>
                    <ul>
                        <li><a href="#accounts">Overview</a></li>
                        <li><a href="#accounts-search">GET /accounts (search)</a></li>
                        <li><a href="#accounts-list">GET /accounts (list all)</a></li>
                    </ul>
                </div>
            </aside>

            <main class="doc-content">
                <h1 id="overview">Altafid API Documentation</h1>
                
                <div class="callout info">
                    <strong>Base URL:</strong> <code>https://api.altafid.dev.altafid.net</code><br>
                    <strong>Environment:</strong> UAT<br>
                    <strong>Tenant UUID:</strong> <code>T019A16FF372A70B5A9307B00CE85E4DA</code>
                </div>

                <h3>Test Credentials</h3>
                <table>
                    <tr><th>Username</th><td><code>kaboom-poc@yopmail.com</code></td></tr>
                    <tr><th>Password</th><td><code>Password123!</code></td></tr>
                </table>

                <h3>Global Headers (All Authenticated Requests)</h3>
                <table>
                    <thead><tr><th>Header</th><th>Value</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>Authorization</code></td><td><code>Bearer {token}</code></td><td>Access token from login</td></tr>
                        <tr><td><code>x-tenant-uuid</code></td><td><code>T019A16FF372A70B5A9307B00CE85E4DA</code></td><td>Tenant identifier</td></tr>
                        <tr><td><code>x-user-email</code></td><td><code>kaboom-poc@yopmail.com</code></td><td>User email</td></tr>
                        <tr><td><code>x-user-id</code></td><td><code>TS019C06688AA57248B9EA5325DBDFC48E</code></td><td>User staff UUID</td></tr>
                        <tr><td><code>x-user-type</code></td><td><code>TENANT_STAFF</code></td><td>User type</td></tr>
                    </tbody>
                </table>

                <!-- AUTHENTICATION -->
                <h2 id="auth">Authentication</h2>

                <h3 id="auth-login"><span class="method-badge method-post">POST</span>/api/auth/login</h3>
                <p>Authenticate and obtain access tokens</p>

                <h4>Request Body</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "username": "kaboom-poc@yopmail.com",
  "password": "Password123!"
}</code></pre>
                </div>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/auth/login' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'content-type: application/json' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  --data-raw '{"username":"kaboom-poc@yopmail.com","password":"Password123!"}'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "status": "LOGIN_SUCCESS",
  "token": "eyJhbGciOiJIUzI1NiJ9...",
  "refreshToken": "eyJhbGciOiJIUzI1NiJ9...",
  "username": "kaboom-poc@yopmail.com",
  "tenantUuid": "T019A16FF372A70B5A9307B00CE85E4DA",
  "tenantStaffUuid": "TS019C06688AA57248B9EA5325DBDFC48E",
  "tenantCode": "CONPAT_UAT",
  "userType": "TENANT_STAFF",
  "staffType": "ADMIN",
  "firstName": "kaboom",
  "lastName": "poc",
  "expiresIn": 3600000,
  "refreshExpiresIn": 604800000
}</code></pre>
                </div>

                <h4>Response Fields</h4>
                <table>
                    <thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>token</code></td><td>string</td><td>Access token (expires in 1 hour)</td></tr>
                        <tr><td><code>refreshToken</code></td><td>string</td><td>Refresh token (expires in 7 days)</td></tr>
                        <tr><td><code>tenantUuid</code></td><td>string</td><td>Use in x-tenant-uuid header</td></tr>
                        <tr><td><code>tenantStaffUuid</code></td><td>string</td><td>Use in x-user-id header</td></tr>
                        <tr><td><code>username</code></td><td>string</td><td>Use in x-user-email header</td></tr>
                        <tr><td><code>expiresIn</code></td><td>number</td><td>Milliseconds until expiration (3600000 = 1 hour)</td></tr>
                    </tbody>
                </table>

                <h3 id="auth-refresh"><span class="method-badge method-post">POST</span>/api/auth/refresh</h3>
                <p>Refresh expired access token</p>

                <h4>Request Body</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "refreshToken": "eyJhbGciOiJIUzI1NiJ9..."
}</code></pre>
                </div>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/auth/refresh' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'content-type: application/json' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  --data-raw '{"refreshToken":"YOUR_REFRESH_TOKEN"}'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "token": "eyJhbGciOiJIUzI1NiJ9...",
  "refreshToken": "eyJhbGciOiJIUzI1NiJ9...",
  "expiresIn": 3600000
}</code></pre>
                </div>

                <!-- TASKS -->
                <h2 id="tasks">Tasks</h2>

                <h3 id="tasks-create"><span class="method-badge method-post">POST</span>/api/tasks</h3>
                <p>Create a new task</p>

                <div class="callout warning">
                    <strong>‚ö†Ô∏è Important:</strong>
                    <br>
                    <code>Kaboom AI integration can use this API to create a new task</code>
                    <br>
                    <code>partnerId</code> must equal <code>tenantUuid</code> = <code>T019A16FF372A70B5A9307B00CE85E4DA</code>
                </div>

                <h4>Request Body</h4>
                <table>
                    <thead><tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>taskName</code></td><td>string</td><td>‚úÖ</td><td>Task title</td></tr>
                        <tr><td><code>taskType</code></td><td>enum</td><td>‚úÖ</td><td><code>EMAIL</code>, <code>CALL</code>, <code>TODO</code></td></tr>
                        <tr><td><code>queue</code></td><td>enum</td><td>‚úÖ</td><td>See enums reference below</td></tr>
                        <tr><td><code>status</code></td><td>enum</td><td>‚úÖ</td><td>Queue-specific status (see matrix below)</td></tr>
                        <tr><td><code>priority</code></td><td>enum</td><td>‚úÖ</td><td><code>HIGH</code>, <code>MEDIUM</code>, <code>LOW</code></td></tr>
                        <tr><td><code>partnerId</code></td><td>string</td><td>‚úÖ</td><td>Must be tenantUuid (T019A16FF372A70B5A9307B00CE85E4DA)</td></tr>
                        <tr><td><code>contactId</code></td><td>string</td><td>No</td><td>Contact UUID (from contacts API)</td></tr>
                        <tr><td><code>assignedToId</code></td><td>string</td><td>‚úÖ</td><td>Staff UUID (from staff API)</td></tr>
                        <tr><td><code>dueDate</code></td><td>string</td><td>‚úÖ</td><td>ISO 8601 format</td></tr>
                        <tr><td><code>description</code></td><td>string</td><td>‚úÖ</td><td>HTML supported</td></tr>
                        <tr><td><code>createdById</code></td><td>string</td><td>‚úÖ</td><td>Creator staff UUID</td></tr>
                        <tr><td><code>createdByType</code></td><td>string</td><td>‚úÖ</td><td><code>ADVISOR_STAFF</code></td></tr>
                    </tbody>
                </table>

                <h4>Request Example</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "taskName": "TestEmail",
  "taskType": "EMAIL",
  "queue": "ACCOUNT_ONBOARDING",
  "status": "PENDING_DOCUMENTS",
  "priority": "HIGH",
  "partnerId": "T019A16FF372A70B5A9307B00CE85E4DA",
  "contactId": "C019A5EE30BE0703E97DF93284EDE4CFE",
  "assignedToId": "TS019C06688AA57248B9EA5325DBDFC48E",
  "dueDate": "2026-01-29T00:00:00.000Z",
  "description": "<p>Test</p>",
  "createdById": "TS019C06688AA57248B9EA5325DBDFC48E",
  "createdByType": "ADVISOR_STAFF"
}</code></pre>
                </div>

                <h4>cURL: Complete Task Creation Example</h4>
                
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/tasks' \
  -H 'accept: application/json' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'content-type: application/json' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF' \
  --data-raw '{"taskName":"TestEmail","taskType":"EMAIL","queue":"ACCOUNT_ONBOARDING","status":"PENDING_DOCUMENTS","priority":"HIGH","partnerId":"T019A16FF372A70B5A9307B00CE85E4DA","contactId":"C019A5EE30BE0703E97DF93284EDE4CFE","assignedToId":"TS019C06688AA57248B9EA5325DBDFC48E","dueDate":"2026-01-29T00:00:00.000Z","description":"<p>Test</p>","createdById":"TS019C06688AA57248B9EA5325DBDFC48E","createdByType":"ADVISOR_STAFF"}'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "id": 536,
  "tenantUuid": "T019A16FF372A70B5A9307B00CE85E4DA",
  "taskNumber": "AO-3",
  "taskName": "TestEmail",
  "taskType": "EMAIL",
  "queue": "ACCOUNT_ONBOARDING",
  "status": "PENDING_DOCUMENTS",
  "priority": "HIGH",
  "partnerId": "T019A16FF372A70B5A9307B00CE85E4DA",
  "partnerName": "CONPAT_UAT",
  "contactId": "C019A5EE30BE0703E97DF93284EDE4CFE",
  "contactName": "Alejandra Kabakian",
  "assignedToId": "TS019C06688AA57248B9EA5325DBDFC48E",
  "assignedToName": "kaboom poc",
  "dueDate": "2026-01-29T00:00:00",
  "description": "<p>Test</p>",
  "deleted": false,
  "createdByType": "ADVISOR_STAFF",
  "createdById": "TS019C06688AA57248B9EA5325DBDFC48E",
  "createdByName": "kaboom poc",
  "createdAt": "2026-01-28T21:32:56.430351",
  "updatedAt": "2026-01-28T21:32:56.430353"
}</code></pre>
                </div>

                <!-- ENUMS -->
                <h2 id="enums">Enums Reference</h2>

                <h3>Task Types</h3>
                <table>
                    <thead><tr><th>Value</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>EMAIL</code></td><td>Email task</td></tr>
                        <tr><td><code>CALL</code></td><td>Phone call task</td></tr>
                        <tr><td><code>TODO</code></td><td>To-do item (displays as TO_DO in UI)</td></tr>
                    </tbody>
                </table>

                <h3>Priority Levels</h3>
                <table>
                    <thead><tr><th>Value</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>HIGH</code></td><td>High priority</td></tr>
                        <tr><td><code>MEDIUM</code></td><td>Medium priority</td></tr>
                        <tr><td><code>LOW</code></td><td>Low priority</td></tr>
                    </tbody>
                </table>

                <h3>Queues & Allowed Statuses</h3>

                <table>
                    <thead><tr><th>Queue</th><th>Allowed Statuses</th></tr></thead>
                    <tbody>
                        <tr>
                            <td><code>SALES</code></td>
                            <td><code>OPEN</code>, <code>IN_PROGRESS</code>, <code>DONE</code></td>
                        </tr>
                        <tr>
                            <td><code>CUSTOMER_SERVICE</code></td>
                            <td><code>OPEN</code>, <code>IN_PROGRESS</code>, <code>DONE</code></td>
                        </tr>
                        <tr>
                            <td><code>ACCOUNT_ONBOARDING</code></td>
                            <td><code>OPEN</code>, <code>IN_PROGRESS</code>, <code>CLOSED</code>, <code>STAND_BY</code>, <code>PENDING_DOCUMENTS</code>, <code>SIGNATURE</code>, <code>BANK_APPROVAL</code>, <code>CASH_ASSETS_DEPOSIT</code>, <code>CLIENT_WEB_CREDENTIALS</code>, <code>ACCOUNT_REVIEW</code></td>
                        </tr>
                        <tr>
                            <td><code>GENERAL</code></td>
                            <td><code>OPEN</code>, <code>IN_PROGRESS</code>, <code>DONE</code></td>
                        </tr>
                        <tr>
                            <td><code>INVESTMENT</code></td>
                            <td><code>OPEN</code>, <code>IN_PROGRESS</code>, <code>DONE</code></td>
                        </tr>
                        <tr>
                            <td><code>PROSPECTS_FLOW</code></td>
                            <td><code>PROSPECT</code>, <code>PENDING_MEETING</code>, <code>PENDING_DOCUMENTS</code>, <code>PENDING_CONFIGURATION</code>, <code>PENDING_PRESENTATION</code>, <code>PENDING_REPORT</code>, <code>PENDING_CONFIRMATION</code>, <code>CLOSED_PROSPECT</code></td>
                        </tr>
                        <tr>
                            <td><code>BUSINESS</code></td>
                            <td><code>ACCOUNT_CREATION</code>, <code>PENDING_SIGNATURE</code>, <code>PENDING_TRANSFER</code>, <code>DONE</code></td>
                        </tr>
                    </tbody>
                </table>

                <!-- CONTACTS -->
                <h2 id="contacts">Contacts</h2>
                <p>Use contacts API to get <code>contactId</code> for task creation</p>

                <h3 id="contacts-search"><span class="method-badge method-get">GET</span>/api/contacts/firm/TENANT/{tenantUuid}?searchTerm={term}</h3>
                <p>Search contacts by name or email</p>

                <h4>Query Parameters</h4>
                <table>
                    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>searchTerm</code></td><td>string</td><td>No</td><td>Search by first/last name or email</td></tr>
                        <tr><td><code>page</code></td><td>integer</td><td>No</td><td>Page number (default: 0)</td></tr>
                        <tr><td><code>size</code></td><td>integer</td><td>No</td><td>Page size (default: 20)</td></tr>
                    </tbody>
                </table>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/contacts/firm/TENANT/T019A16FF372A70B5A9307B00CE85E4DA?page=0&size=20&searchTerm=Mark' \
  -H 'accept: application/json' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "content": [
    {
      "displayName": "Mark Henry",
      "contactUuid": "C019C03AFB97379B48C926FCE1552D05F",
      "firstName": "Mark",
      "middleName": null,
      "paternalLastName": "Henry",
      "maternalLastName": null,
      "contactType": "ACTIVE",
      "status": "ACTIVE",
      "firmType": "TENANT",
      "firmEntityUuid": "T019A16FF372A70B5A9307B00CE85E4DA",
      "firmName": "CONPAT_UAT",
      "preferredEmail": "mark@gmail.com",
      "primaryEmail": "mark@gmail.com",
      "preferredPhoneNumber": {
        "country": "IN",
        "phoneCountryCode": "+91",
        "phoneNumber": "9844521687"
      },
      "contactMeans": "PHONE",
      "preferredContactLanguage": "ENGLISH"
    },
    {
      "displayName": "Stephen Mark Kerr .",
      "contactUuid": "C019A5EE77B9F72F3847EA5CB38237A2A",
      "firstName": "Stephen",
      "middleName": "Mark",
      "paternalLastName": "Kerr",
      "maternalLastName": ".",
      "contactType": "SUBSCRIBER",
      "status": "ACTIVE",
      "preferredEmail": "stephenkerr@nielsen.com",
      "primaryEmail": "",
      "preferredPhoneNumber": {
        "country": "CL",
        "phoneCountryCode": "+56",
        "phoneNumber": "982195593"
      }
    }
  ],
  "totalElements": 2,
  "totalPages": 1
}</code></pre>
                </div>

                <div class="callout info">
                    <strong>üí° Use <code>contactUuid</code></strong> as <code>contactId</code> when creating tasks
                </div>

                <!-- LIST ALL CONTACTS -->
                <h3 id="contacts-list"><span class="method-badge method-get">GET</span>/api/contacts/firm/TENANT/{tenantUuid}?page={page}&size={size}</h3>
                <p>List all tenant contacts with pagination</p>

                <h4>Query Parameters</h4>
                <table>
                    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>page</code></td><td>integer</td><td>No</td><td>Page number (default: 0)</td></tr>
                        <tr><td><code>size</code></td><td>integer</td><td>No</td><td>Page size (default: 20)</td></tr>
                    </tbody>
                </table>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/contacts/firm/TENANT/T019A16FF372A70B5A9307B00CE85E4DA?page=0&size=20' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF'</code></pre>
                </div>

                <!-- CONTACT DETAIL (NEW) -->
                <h3 id="contacts-detail"><span class="method-badge method-get">GET</span>/api/contacts/{contactUuid}</h3>
                <p>Retrieve full details for a single contact by their UUID. The contact response does <strong>not</strong> include a <code>householdUuid</code>. To find which household(s) a contact belongs to, use the <a href="#households-members">Household Members</a> endpoint.</p>

                <h4>Path Parameters</h4>
                <table>
                    <thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>contactUuid</code></td><td>string</td><td>The contact's UUID (e.g. <code>C019BA4AEE01E71768B486A1E54172A19</code>)</td></tr>
                    </tbody>
                </table>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/contacts/C019BA4AEE01E71768B486A1E54172A19' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "contactUuid": "C019BA4AEE01E71768B486A1E54172A19",
  "displayName": "Isidora Test 1",
  "firstName": "Isidora",
  "middleName": null,
  "paternalLastName": "Test",
  "maternalLastName": "1",
  "contactType": "ACTIVE",
  "status": "ACTIVE",
  "firmType": "TENANT",
  "firmEntityUuid": "T019A16FF372A70B5A9307B00CE85E4DA",
  "preferredEmail": "isidora@example.com",
  "primaryEmail": "isidora@example.com",
  "preferredPhoneNumber": {
    "country": "CL",
    "phoneCountryCode": "+56",
    "phoneNumber": "912345678"
  },
  "contactMeans": "EMAIL",
  "preferredContactLanguage": "SPANISH",
  "dateOfBirth": "1990-01-15",
  "gender": "FEMALE",
  "identityType": "NATIONAL_ID",
  "identityCountry": "CHL",
  "identityId": "12345678-9",
  "addresses": [],
  "associatedOrganisations": null,
  "compliance": null,
  "contactAssociations": null
}</code></pre>
                </div>

                <div class="callout warning">
                    <strong>‚ö†Ô∏è Household ‚Üî Contact Relationship:</strong> Contacts do <strong>not</strong> have a <code>householdUuid</code> field. The relationship is many-to-many, managed through <strong>Household Members</strong>. To find a contact's household(s), query the <a href="#households-members">members endpoint</a> and match by <code>contactUuid</code>. See the <a href="#households">Households section</a> for the full data model.
                </div>

                <!-- CREATE CONTACT -->
                <h3 id="contacts-create"><span class="method-badge method-post">POST</span>/api/contacts</h3>
                <p>Create a new contact</p>

                <div class="callout warning">
                    <strong>‚ö†Ô∏è Important:</strong> 
                    <br>
                    <code>Kaboom AI integration can use this API to create a new lead/contact</code>
                    <br>
                    <code>firmId</code> must equal <code>tenantUuid</code> = <code>T019A16FF372A70B5A9307B00CE85E4DA</code>
                </div>

                <h4>Request Body</h4>
                <table>
                    <thead><tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>firstName</code></td><td>string</td><td>‚úÖ</td><td>First name</td></tr>
                        <tr><td><code>middleName</code></td><td>string</td><td>No</td><td>Middle name</td></tr>
                        <tr><td><code>paternalLastName</code></td><td>string</td><td>‚úÖ</td><td>Paternal last name</td></tr>
                        <tr><td><code>maternalLastName</code></td><td>string</td><td>No</td><td>Maternal surname</td></tr>
                        <tr><td><code>preferredEmail</code></td><td>string</td><td>‚úÖ*</td><td>Email address (*required if no phone)</td></tr>
                        <tr><td><code>phoneNumber</code></td><td>object</td><td>‚úÖ*</td><td>Phone number object (*required if no email)</td></tr>
                        <tr><td><code>contactMeans</code></td><td>enum</td><td>‚úÖ</td><td><code>EMAIL</code>, <code>PHONE</code></td></tr>
                        <tr><td><code>contactType</code></td><td>enum</td><td>‚úÖ</td><td><code>SUBSCRIBER</code></td></tr>
                        <tr><td><code>status</code></td><td>enum</td><td>‚úÖ</td><td><code>ACTIVE</code></td></tr>
                        <tr><td><code>firmId</code></td><td>string</td><td>‚úÖ</td><td>Must be tenantUuid (T019A16FF372A70B5A9307B00CE85E4DA)</td></tr>
                        <tr><td><code>firmType</code></td><td>string</td><td>‚úÖ</td><td><code>TENANT</code></td></tr>
                        <tr><td><code>preferredContactLanguage</code></td><td>string</td><td>‚úÖ</td><td><code>ENGLISH</code></td></tr>
                        <tr><td><code>contactManagerId</code></td><td>string</td><td>No</td><td>Staff UUID (from staff search API)</td></tr>
                        <tr><td><code>contactManagerFirmType</code></td><td>string</td><td>No</td><td><code>TENANT</code></td></tr>
                        <tr><td><code>stage</code></td><td>string</td><td>No</td><td>etapa1 or etapa2 or etapa3</td></tr>
                    </tbody>
                </table>

                <div class="callout info">
                    <strong>üí° Note:</strong> At least one contact means (email or phone) is required. Use <code>contactManagerId</code> from the <a href="#staff-search">staff search API</a> to assign a contact manager.
                </div>

                <h4>Request Example</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "firstName": "poc",
  "paternalLastName": "last",
  "contactType": "SUBSCRIBER",
  "firmId": "T019A16FF372A70B5A9307B00CE85E4DA",
  "firmType": "TENANT",
  "preferredContactLanguage": "ENGLISH",
  "status": "ACTIVE",
  "middleName": "middle",
  "maternalLastName": "maternal",
  "preferredEmail": "poctestcontact@example.com",
  "contactManagerId": "TS019A25A48E6177E8B989E9AECCA3F6DF",
  "stage": "etapa2",
  "contactMeans": "EMAIL",
  "contactManagerFirmType": "TENANT"
}</code></pre>
                </div>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/contacts' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'content-type: application/json' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF' \
  --data-raw '{"firstName":"poc","paternalLastName":"last","contactType":"SUBSCRIBER","firmId":"T019A16FF372A70B5A9307B00CE85E4DA","firmType":"TENANT","preferredContactLanguage":"ENGLISH","status":"ACTIVE","middleName":"middle","maternalLastName":"maternal","preferredEmail":"poctestcontact@example.com","contactManagerId":"TS019A25A48E6177E8B989E9AECCA3F6DF","stage":"etapa2","contactMeans":"EMAIL","contactManagerFirmType":"TENANT"}'</code></pre>
                </div>

                <h4>Response 201 Created</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "contactUuid": "C019A5EE30BE0703E97DF93284EDE4CFE",
  "firstName": "poc",
  "middleName": "middle",
  "paternalLastName": "last",
  "maternalLastName": "maternal",
  "displayName": "poc middle last maternal",
  "preferredEmail": "poctestcontact@example.com",
  "contactType": "SUBSCRIBER",
  "status": "ACTIVE",
  "firmType": "TENANT",
  "firmEntityUuid": "T019A16FF372A70B5A9307B00CE85E4DA",
  "preferredContactLanguage": "ENGLISH",
  "contactMeans": "EMAIL",
  "createdAt": "2026-01-29T04:30:00.000000",
  "updatedAt": "2026-01-29T04:30:00.000000"
}</code></pre>


                </div>

                <!-- NOTES -->
                <h2 id="notes">Notes</h2>
                <p>Notes can be linked to contacts or households and can include attachments</p>

                <div class="callout warning">
                    <strong>‚ö†Ô∏è Important:</strong>
                    <br>
                    <code>Kaboom AI integration can use this API to create notes for contacts</code>
                    <br>
                    Notes can be created without attachments, or attachments can be added using the upload workflow
                </div>

                <h3 id="notes-create"><span class="method-badge method-post">POST</span>/api/v1/notes/contacts/{contactId}</h3>
                <p>Create a new note for a contact (with or without attachments)</p>

                <h4>Path Parameters</h4>
                <table>
                    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>contactId</code></td><td>string</td><td>‚úÖ</td><td>Contact UUID (from contacts API)</td></tr>
                    </tbody>
                </table>

                <h4>Request Body</h4>
                <table>
                    <thead><tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>textContent</code></td><td>string</td><td>‚úÖ</td><td>Note title/header</td></tr>
                        <tr><td><code>description</code></td><td>string</td><td>‚úÖ</td><td>Note content (HTML supported)</td></tr>
                        <tr><td><code>noteCreatedFor</code></td><td>string</td><td>‚úÖ</td><td>Must match contactId from path</td></tr>
                        <tr><td><code>attachmentUrls</code></td><td>array</td><td>‚úÖ</td><td>Array of S3 URLs (empty array if no attachments)</td></tr>
                        <tr><td><code>associations</code></td><td>array</td><td>‚úÖ</td><td>Array of associated contacts/households</td></tr>
                    </tbody>
                </table>

                <h4>Association Object Structure</h4>
                <table>
                    <thead><tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>type</code></td><td>string</td><td>‚úÖ</td><td><code>CONTACT</code> or <code>HOUSEHOLD</code></td></tr>
                        <tr><td><code>contactUuid</code></td><td>string</td><td>*</td><td>Required if type is CONTACT</td></tr>
                        <tr><td><code>householdUuid</code></td><td>string</td><td>*</td><td>Required if type is HOUSEHOLD</td></tr>
                        <tr><td><code>name</code></td><td>string</td><td>‚úÖ</td><td>Display name</td></tr>
                    </tbody>
                </table>

                <h4>Request Example (Without Attachments)</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "textContent": "Call Summary",
  "description": "<p>This is a summary from the call with the client</p>",
  "noteCreatedFor": "C019C03B89AD675C4A8661CBDC8BBD986",
  "attachmentUrls": [],
  "associations": [
    {
      "type": "CONTACT",
      "contactUuid": "C019C06D3FF2076BC986600EC8CA01F23",
      "householdUuid": null,
      "name": "John Doe"
    },
    {
      "type": "HOUSEHOLD",
      "contactUuid": null,
      "householdUuid": "H019C09315DE575DFA44E591AD677E971",
      "name": "Doe Family Household"
    }
  ]
}</code></pre>
                </div>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/v1/notes/contacts/C019C03B89AD675C4A8661CBDC8BBD986' \
  -H 'accept: application/json' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'content-type: application/json' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: conpat_suhas_admin@yopmail.com' \
  -H 'x-user-id: TS019A25A48E6177E8B989E9AECCA3F6DF' \
  -H 'x-user-type: TENANT_STAFF' \
  --data-raw '{"textContent":"Call Summary","description":"<p>This is a summary from the call</p>","noteCreatedFor":"C019C03B89AD675C4A8661CBDC8BBD986","attachmentUrls":[],"associations":[{"type":"CONTACT","contactUuid":"C019C06D3FF2076BC986600EC8CA01F23","householdUuid":null,"name":"John Doe"}]}'</code></pre>
                </div>

                <h4>Response 201 Created</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "noteUuid": "N019C0EFAE59F71A39170C901FF0BD7E0",
  "textContent": "Call Summary",
  "description": "<p>This is a summary from the call</p>",
  "noteCreatedFor": "C019C03B89AD675C4A8661CBDC8BBD986",
  "attachmentUrls": [],
  "associations": [...],
  "createdAt": "2026-01-30T12:58:31.000000",
  "updatedAt": "2026-01-30T12:58:31.000000"
}</code></pre>
                </div>

                <div class="callout info">
                    <strong>üí° Save the <code>noteUuid</code></strong> from the response to update the note later with attachments
                </div>

                <!-- UPDATE NOTE -->
                <h3 id="notes-update"><span class="method-badge method-put">PUT</span>/api/v1/notes/{noteId}</h3>
                <p>Update an existing note (including adding attachments)</p>

                <h4>Path Parameters</h4>
                <table>
                    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>noteId</code></td><td>string</td><td>‚úÖ</td><td>Note UUID from create response</td></tr>
                    </tbody>
                </table>

                <h4>Request Body</h4>
                <p>Same structure as create note. Update any fields including <code>attachmentUrls</code> array.</p>

                <h4>Request Example (With Attachments)</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "textContent": "Call Summary",
  "description": "<p>Updated summary with attachment</p>",
  "associations": [...],
  "attachmentUrls": [
    "https://altafid-notes-dev.s3.amazonaws.com/notes/T019A16FF372A70B5A9307B00CE85E4DA/temp/C019C03B89AD675C4A8661CBDC8BBD986/NAT019C0EFBD7D07519B722B9A414E39C96.png?X-Amz-Algorithm=..."
  ]
}</code></pre>
                </div>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/v1/notes/N019C0EFAE59F71A39170C901FF0BD7E0' \
  -X 'PUT' \
  -H 'accept: application/json' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'content-type: application/json' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: conpat_suhas_admin@yopmail.com' \
  -H 'x-user-id: TS019A25A48E6177E8B989E9AECCA3F6DF' \
  -H 'x-user-type: TENANT_STAFF' \
  --data-raw '{"textContent":"Call Summary","description":"<p>Updated summary</p>","associations":[...],"attachmentUrls":["https://..."]}'</code></pre>
                </div>

                <!-- ATTACHMENT WORKFLOW -->
                <h3>Note Attachment Upload Workflow</h3>
                <p>To add attachments to a note, follow this 3-step process:</p>

                <div class="callout info">
                    <strong>Attachment Upload Steps:</strong><br>
                    1. Initialize upload to get S3 presigned URLs<br>
                    2. Upload files directly to S3 using the presigned URLs<br>
                    3. Confirm upload to finalize attachments<br>
                    4. Update note with confirmed attachment URLs
                </div>

                <!-- STEP 1: INIT ATTACHMENTS -->
                <h3 id="notes-attachments-init"><span class="method-badge method-post">POST</span>/api/v1/notes/contacts/{contactId}/attachments/init</h3>
                <p><strong>Step 1:</strong> Initialize attachment upload and get S3 presigned URLs</p>

                <h4>Path Parameters</h4>
                <table>
                    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>contactId</code></td><td>string</td><td>‚úÖ</td><td>Contact UUID</td></tr>
                    </tbody>
                </table>

                <h4>Request Body</h4>
                <table>
                    <thead><tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>files</code></td><td>array</td><td>‚úÖ</td><td>Array of file metadata objects</td></tr>
                    </tbody>
                </table>

                <h4>File Object Structure</h4>
                <table>
                    <thead><tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>fileName</code></td><td>string</td><td>‚úÖ</td><td>Original file name</td></tr>
                        <tr><td><code>extension</code></td><td>string</td><td>‚úÖ</td><td>File extension (png, pdf, jpg, etc.)</td></tr>
                        <tr><td><code>fileSize</code></td><td>integer</td><td>‚úÖ</td><td>File size in bytes</td></tr>
                    </tbody>
                </table>

                <h4>Request Example</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "files": [
    {
      "fileName": "call-transcript.pdf",
      "extension": "pdf",
      "fileSize": 43433
    }
  ]
}</code></pre>
                </div>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/v1/notes/contacts/C019C03B89AD675C4A8661CBDC8BBD986/attachments/init' \
  -H 'accept: application/json' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'content-type: application/json' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: conpat_suhas_admin@yopmail.com' \
  -H 'x-user-id: TS019A25A48E6177E8B989E9AECCA3F6DF' \
  -H 'x-user-type: TENANT_STAFF' \
  --data-raw '{"files":[{"fileName":"call-transcript.pdf","extension":"pdf","fileSize":43433}]}'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "uploadUrls": [
    {
      "fileName": "call-transcript.pdf",
      "uploadUrl": "https://altafid-notes-dev.s3.amazonaws.com/notes/T019A16FF372A70B5A9307B00CE85E4DA/temp/C019C03B89AD675C4A8661CBDC8BBD986/NAT019C0EFBD7D07519B722B9A414E39C96.pdf?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20260130T125831Z&...",
      "fileUrl": "https://altafid-notes-dev.s3.amazonaws.com/notes/T019A16FF372A70B5A9307B00CE85E4DA/temp/C019C03B89AD675C4A8661CBDC8BBD986/NAT019C0EFBD7D07519B722B9A414E39C96.pdf?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20260130T125831Z&X-Amz-Expires=604800&..."
    }
  ]
}</code></pre>
                </div>

                <div class="callout info">
                    <strong>üí° Save both URLs:</strong><br>
                    - Use <code>uploadUrl</code> for Step 2 (uploading file to S3)<br>
                    - Use <code>fileUrl</code> for Step 3 (confirming upload)
                </div>

                <!-- STEP 2: S3 UPLOAD -->
                <h3 id="notes-attachments-upload"><span class="method-badge method-put">PUT</span>S3 Presigned URL</h3>
                <p><strong>Step 2:</strong> Upload the file directly to S3 using the presigned URL from Step 1</p>

                <h4>Headers</h4>
                <table>
                    <thead><tr><th>Header</th><th>Value</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>Content-Type</code></td><td>File MIME type</td><td>e.g., image/png, application/pdf</td></tr>
                        <tr><td><code>Content-Length</code></td><td>File size</td><td>Size in bytes</td></tr>
                    </tbody>
                </table>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://altafid-notes-dev.s3.amazonaws.com/notes/T019A16FF372A70B5A9307B00CE85E4DA/temp/C019C03B89AD675C4A8661CBDC8BBD986/NAT019C0EFBD7D07519B722B9A414E39C96.pdf?X-Amz-Algorithm=...' \
  -X 'PUT' \
  -H 'Content-Type: application/pdf' \
  -H 'Content-Length: 43433' \
  --data-binary '@/path/to/local/file.pdf'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <p>Empty response body on successful upload</p>

                <!-- STEP 3: CONFIRM UPLOAD -->
                <h3 id="notes-attachments-confirm"><span class="method-badge method-post">POST</span>/api/v1/notes/contacts/{contactId}/attachments/confirm-upload</h3>
                <p><strong>Step 3:</strong> Confirm the upload and finalize attachments</p>

                <h4>Path Parameters</h4>
                <table>
                    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>contactId</code></td><td>string</td><td>‚úÖ</td><td>Contact UUID</td></tr>
                    </tbody>
                </table>

                <h4>Request Body</h4>
                <table>
                    <thead><tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>attachmentUrls</code></td><td>array</td><td>‚úÖ</td><td>Array of fileUrl values from Step 1 response</td></tr>
                    </tbody>
                </table>

                <h4>Request Example</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "attachmentUrls": [
    "https://altafid-notes-dev.s3.amazonaws.com/notes/T019A16FF372A70B5A9307B00CE85E4DA/temp/C019C03B89AD675C4A8661CBDC8BBD986/NAT019C0EFBD7D07519B722B9A414E39C96.pdf?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20260130T125831Z&X-Amz-Expires=604800&..."
  ]
}</code></pre>
                </div>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/v1/notes/contacts/C019C03B89AD675C4A8661CBDC8BBD986/attachments/confirm-upload' \
  -H 'accept: application/json' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'content-type: application/json' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: conpat_suhas_admin@yopmail.com' \
  -H 'x-user-id: TS019A25A48E6177E8B989E9AECCA3F6DF' \
  -H 'x-user-type: TENANT_STAFF' \
  --data-raw '{"attachmentUrls":["https://altafid-notes-dev.s3.amazonaws.com/notes/..."]}'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "confirmedUrls": [
    "https://altafid-notes-dev.s3.amazonaws.com/notes/T019A16FF372A70B5A9307B00CE85E4DA/temp/C019C03B89AD675C4A8661CBDC8BBD986/NAT019C0EFBD7D07519B722B9A414E39C96.pdf?..."
  ]
}</code></pre>
                </div>

                <div class="callout info">
                    <strong>üí° Final Step:</strong> Use the confirmed URLs from this response in the <code>attachmentUrls</code> array when updating your note via <a href="#notes-update">PUT /notes/{noteId}</a>
                </div>

                <!-- HOUSEHOLDS (NEW) -->
                <h2 id="households">Households</h2>

                <p>Households are grouping entities (e.g. a family or business group) that contain <strong>members</strong>. Members can be <strong>Contacts</strong> (people) or <strong>Organisations</strong> (companies/entities).</p>

                <div class="callout info">
                    <strong>Data Model ‚Äî Many-to-Many Relationship:</strong>
                    <ul>
                        <li>A Household can have many members (Contacts and Organisations)</li>
                        <li>A Contact can belong to multiple Households</li>
                        <li>The join entity is <strong>HouseholdMember</strong>, which carries metadata: <code>isPrimary</code>, <code>isFinanciallyResponsible</code>, <code>canMakeDecisions</code>, <code>ownershipPercentage</code>, <code>relationshipType</code></li>
                        <li>There is <strong>no</strong> <code>householdId</code> on the Contact entity</li>
                    </ul>
                    <br>
                    <strong>Structure:</strong> <code>Household (1) ‚Üî (many) HouseholdMember ‚Üî (1) Contact/Organisation</code>
                </div>

                <h4>API Flow: Household ‚Üí Contacts</h4>
                <table>
                    <thead><tr><th>Step</th><th>Endpoint</th><th>Purpose</th></tr></thead>
                    <tbody>
                        <tr><td>1</td><td><code>POST /api/v2/households</code></td><td>List households, get <code>householdUuid</code> values</td></tr>
                        <tr><td>2</td><td><code>GET /api/households/{householdUuid}/members</code></td><td>Get members, filter by <code>memberType == "CONTACT"</code></td></tr>
                        <tr><td>3</td><td><code>GET /api/contacts/{contactUuid}</code></td><td>Optionally fetch full contact details</td></tr>
                    </tbody>
                </table>

                <h4>API Flow: Contact ‚Üí Household(s)</h4>
                <table>
                    <thead><tr><th>Step</th><th>Endpoint</th><th>Purpose</th></tr></thead>
                    <tbody>
                        <tr><td>1</td><td><code>GET /api/contacts/{contactUuid}</code></td><td>Get contact info</td></tr>
                        <tr><td>2</td><td><code>GET /api/households/{householdUuid}/members</code></td><td>Resolve household membership ‚Äî the UI calls this to display which household(s) the contact belongs to</td></tr>
                    </tbody>
                </table>

                <!-- Households List (NEW) -->
                <h3 id="households-list"><span class="method-badge method-post">POST</span>/api/v2/households</h3>
                <p>List all households for the tenant (paginated). Returns basic household info ‚Äî <strong>does not include members</strong>.</p>

                <h4>Request Body</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "page": 0,
  "size": 20,
  "filters": []
}</code></pre>
                </div>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/v2/households' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'content-type: application/json' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF' \
  --data-raw '{"page":0,"size":20,"filters":[]}'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "content": [
    {
      "householdUuid": "H019C1D5FB17170678A60DDF055E06FC2",
      "tenantUuid": "T019A16FF372A70B5A9307B00CE85E4DA",
      "name": "Agent Household",
      "partnershipUuid": null,
      "partnershipManagerUuid": null,
      "relationshipManagerType": "TENANT_STAFF",
      "relationshipManagerUuid": "TS019A25A48E6177E8B989E9AECCA3F6DF",
      "isActive": true,
      "totalValue": 0,
      "totalManagementAssets": 0,
      "createdAt": "2026-02-02T08:02:16.5622",
      "updatedAt": "2026-02-02T08:02:16.562202",
      "memberCount": null,
      "accountCount": 0,
      "portfolioCount": null,
      "accounts": null,
      "partnershipName": null,
      "relationshipManagerName": "Robert Williams Waldo 1",
      "partnershipManagerName": null
    }
  ],
  "totalElements": 15,
  "totalPages": 1
}</code></pre>
                </div>

                <h4>Response Fields</h4>
                <table>
                    <thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>householdUuid</code></td><td>string</td><td>Unique household identifier ‚Äî use this for detail/members calls</td></tr>
                        <tr><td><code>name</code></td><td>string</td><td>Household name</td></tr>
                        <tr><td><code>relationshipManagerUuid</code></td><td>string</td><td>Staff UUID of the relationship manager</td></tr>
                        <tr><td><code>relationshipManagerName</code></td><td>string</td><td>Display name of the relationship manager</td></tr>
                        <tr><td><code>isActive</code></td><td>boolean</td><td>Whether the household is active</td></tr>
                        <tr><td><code>totalValue</code></td><td>number</td><td>Total value of household</td></tr>
                        <tr><td><code>totalManagementAssets</code></td><td>number</td><td>Total management assets</td></tr>
                        <tr><td><code>accountCount</code></td><td>number</td><td>Number of linked accounts</td></tr>
                    </tbody>
                </table>

                <!-- Household Detail (NEW) -->
                <h3 id="households-detail"><span class="method-badge method-get">GET</span>/api/households/{householdUuid}/detail</h3>
                <p>Get full household details including <strong>members</strong>, accounts, and portfolios embedded in the response.</p>

                <h4>Path Parameters</h4>
                <table>
                    <thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>householdUuid</code></td><td>string</td><td>The household UUID (e.g. <code>H019A5F49509F7F5AA706D631023AE72D</code>)</td></tr>
                    </tbody>
                </table>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/households/H019A5F49509F7F5AA706D631023AE72D/detail' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "householdUuid": "H019A5F49509F7F5AA706D631023AE72D",
  "tenantUuid": "T019A16FF372A70B5A9307B00CE85E4DA",
  "name": "Familia Casassus",
  "partnershipUuid": null,
  "partnershipManagerUuid": null,
  "relationshipManagerType": "TENANT_STAFF",
  "relationshipManagerUuid": "TS019BA4AA0DBC782BA33809EE921758D8",
  "isActive": true,
  "totalValue": null,
  "totalManagementAssets": null,
  "createdAt": "2025-11-07T17:07:11.647576",
  "updatedAt": "2026-01-16T20:09:31.901234",
  "members": [
    {
      "householdMemberUuid": "HM019A5F4950A27745890123726BDD6368",
      "householdUuid": "H019A5F49509F7F5AA706D631023AE72D",
      "memberType": "CONTACT",
      "contactUuid": "C019A5EE1F2BC79129B4371298633D089",
      "displayName": "Unknown Member",
      "isPrimary": false,
      "isFinanciallyResponsible": false,
      "canMakeDecisions": false,
      "isActive": true
    },
    {
      "householdMemberUuid": "HM019A5F4950AD7576BCFDA4EEE5EB0485",
      "householdUuid": "H019A5F49509F7F5AA706D631023AE72D",
      "memberType": "ORGANISATION",
      "organisationUuid": "O019A5F1CCC067E5BB25B0DA6421BE345",
      "displayName": "Unknown Member",
      "isPrimary": false,
      "isFinanciallyResponsible": false,
      "canMakeDecisions": false,
      "isActive": true
    }
  ],
  "accounts": [],
  "portfolios": [],
  "partnershipName": null,
  "relationshipManagerName": "Miguel Rodriguez",
  "partnershipManagerName": null
}</code></pre>
                </div>

                <div class="callout warning">
                    <strong>‚ö†Ô∏è Note:</strong> The <code>/detail</code> endpoint may return <code>"displayName": "Unknown Member"</code> and <code>null</code> for <code>contactName</code>/<code>organisationName</code>. To get fully resolved names, use the <a href="#households-members"><code>/members</code></a> endpoint instead.
                </div>

                <!-- Household Members (NEW) -->
                <h3 id="households-members"><span class="method-badge method-get">GET</span>/api/households/{householdUuid}/members</h3>
                <p>Get the list of members for a household with <strong>fully resolved names and details</strong>. This is the recommended endpoint for mapping household ‚Üî contact relationships.</p>

                <h4>Path Parameters</h4>
                <table>
                    <thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>householdUuid</code></td><td>string</td><td>The household UUID</td></tr>
                    </tbody>
                </table>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/households/H019A5F49509F7F5AA706D631023AE72D/members' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>[
  {
    "householdMemberUuid": "HM019A5F4950A27745890123726BDD6368",
    "householdUuid": "H019A5F49509F7F5AA706D631023AE72D",
    "tenantUuid": "T019A16FF372A70B5A9307B00CE85E4DA",
    "memberType": "CONTACT",
    "displayName": "Amanda Esther Argando√±a Castro",
    "contactId": 879,
    "contactUuid": "C019A5EE1F2BC79129B4371298633D089",
    "contactName": "Amanda Esther Argando√±a Castro",
    "organisationUuid": null,
    "organisationName": null,
    "isPrimary": false,
    "isFinanciallyResponsible": false,
    "canMakeDecisions": false,
    "ownershipPercentage": null,
    "relationshipType": null,
    "relationshipDescription": null,
    "isActive": true,
    "isDeleted": false,
    "createdAt": "2025-11-07T17:07:11.652898"
  },
  {
    "householdMemberUuid": "HM019A5F4950A772C798B48A4F10D71DB6",
    "householdUuid": "H019A5F49509F7F5AA706D631023AE72D",
    "tenantUuid": "T019A16FF372A70B5A9307B00CE85E4DA",
    "memberType": "CONTACT",
    "displayName": "Carlos Ignacio Casassus Fontecilla",
    "contactId": 843,
    "contactUuid": "C019A5EE11B1570C99AC17F24864E4A8B",
    "contactName": "Carlos Ignacio Casassus Fontecilla",
    "organisationUuid": null,
    "organisationName": null,
    "isPrimary": false,
    "isFinanciallyResponsible": false,
    "canMakeDecisions": false,
    "ownershipPercentage": null,
    "relationshipType": null,
    "isActive": true,
    "isDeleted": false,
    "createdAt": "2025-11-07T17:07:11.658719"
  },
  {
    "householdMemberUuid": "HM019A5F4950AD7576BCFDA4EEE5EB0485",
    "householdUuid": "H019A5F49509F7F5AA706D631023AE72D",
    "tenantUuid": "T019A16FF372A70B5A9307B00CE85E4DA",
    "memberType": "ORGANISATION",
    "displayName": "Green Barakiel Corp",
    "contactId": null,
    "contactUuid": null,
    "contactName": null,
    "organisationId": 149,
    "organisationUuid": "O019A5F1CCC067E5BB25B0DA6421BE345",
    "organisationName": "Green Barakiel Corp",
    "isPrimary": false,
    "isFinanciallyResponsible": false,
    "canMakeDecisions": false,
    "ownershipPercentage": null,
    "relationshipType": null,
    "isActive": true,
    "isDeleted": false,
    "createdAt": "2025-11-07T17:07:11.667856"
  }
]</code></pre>
                </div>

                <h4>Member Fields</h4>
                <table>
                    <thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>householdMemberUuid</code></td><td>string</td><td>Unique ID of the join record</td></tr>
                        <tr><td><code>householdUuid</code></td><td>string</td><td>Parent household UUID</td></tr>
                        <tr><td><code>memberType</code></td><td>string</td><td><code>"CONTACT"</code> (person) or <code>"ORGANISATION"</code> (company)</td></tr>
                        <tr><td><code>contactUuid</code></td><td>string | null</td><td>Contact UUID ‚Äî present when <code>memberType</code> is <code>"CONTACT"</code></td></tr>
                        <tr><td><code>contactId</code></td><td>number | null</td><td>Internal contact ID</td></tr>
                        <tr><td><code>contactName</code></td><td>string | null</td><td>Contact display name</td></tr>
                        <tr><td><code>organisationUuid</code></td><td>string | null</td><td>Organisation UUID ‚Äî present when <code>memberType</code> is <code>"ORGANISATION"</code></td></tr>
                        <tr><td><code>organisationId</code></td><td>number | null</td><td>Internal organisation ID</td></tr>
                        <tr><td><code>organisationName</code></td><td>string | null</td><td>Organisation display name</td></tr>
                        <tr><td><code>displayName</code></td><td>string</td><td>Resolved display name of the member</td></tr>
                        <tr><td><code>isPrimary</code></td><td>boolean</td><td>Whether this is the primary member of the household</td></tr>
                        <tr><td><code>isFinanciallyResponsible</code></td><td>boolean</td><td>Whether this member is financially responsible</td></tr>
                        <tr><td><code>canMakeDecisions</code></td><td>boolean</td><td>Whether this member can make decisions for the household</td></tr>
                        <tr><td><code>ownershipPercentage</code></td><td>number | null</td><td>Ownership percentage in the household</td></tr>
                        <tr><td><code>relationshipType</code></td><td>string | null</td><td>Relationship type (e.g. spouse, child, etc.)</td></tr>
                        <tr><td><code>relationshipDescription</code></td><td>string | null</td><td>Free-text relationship description</td></tr>
                        <tr><td><code>isActive</code></td><td>boolean</td><td>Whether the membership is active</td></tr>
                        <tr><td><code>isDeleted</code></td><td>boolean</td><td>Soft delete flag</td></tr>
                    </tbody>
                </table>

                <div class="callout info">
                    <strong>üí° Tip:</strong> To get all contacts in a household, filter the members array: <code>members.filter(m => m.memberType === "CONTACT")</code> ‚Äî then use each member's <code>contactUuid</code> to fetch full contact details via <code>GET /api/contacts/{contactUuid}</code> if needed.
                </div>

                <!-- STAFF -->
                <h2 id="staff">Tenant Staff</h2>
                <p>Use staff API to get <code>assignedToId</code> for task creation</p>

                <h3 id="staff-search"><span class="method-badge method-get">GET</span>/api/tenant-staff/search?name={name}</h3>
                <p>Search staff members by name</p>

                <h4>Query Parameters</h4>
                <table>
                    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>name</code></td><td>string</td><td>Yes</td><td>Search by first/last name or email</td></tr>
                        <tr><td><code>page</code></td><td>integer</td><td>No</td><td>Page number (default: 0)</td></tr>
                        <tr><td><code>size</code></td><td>integer</td><td>No</td><td>Page size (default: 20)</td></tr>
                    </tbody>
                </table>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/tenant-staff/search?page=0&size=20&name=kab' \
  -H 'accept: application/json' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "content": [
    {
      "tenantStaffUuid": "TS019C06688AA57248B9EA5325DBDFC48E",
      "tenantUuid": "T019A16FF372A70B5A9307B00CE85E4DA",
      "firstName": "kaboom",
      "middleName": "",
      "paternalLastName": "poc",
      "maternalLastName": "",
      "userEmail": "kaboom-poc@yopmail.com",
      "email": "kaboom-poc@yopmail.com",
      "staffType": "ADMIN",
      "legalResidence": "United States",
      "timeZone": "UTC -5:00",
      "platformLanguage": "en-US",
      "commissionCurrency": "USD",
      "contactPhone": null,
      "jobPosition": null,
      "dateOfBirth": null,
      "currentResidence": null,
      "isActive": true,
      "createdAt": "2026-01-28T21:00:40.613087",
      "updatedAt": "2026-01-28T21:02:03.638174"
    }
  ],
  "totalElements": 1,
  "totalPages": 1
}</code></pre>
                </div>

                <div class="callout info">
                    <strong>üí° Use <code>tenantStaffUuid</code></strong> as <code>assignedToId</code> when creating tasks
                </div>

                <!-- LIST TASKS -->
                <h3 id="tasks-list"><span class="method-badge method-post">POST</span>/api/tasks/filter?page={page}&size={size}</h3>
                <p>Retrieve a paginated list of tasks with optional filters</p>

                <h4>Query Parameters</h4>
                <table>
                    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>page</code></td><td>integer</td><td>No</td><td>Page number (default: 0)</td></tr>
                        <tr><td><code>size</code></td><td>integer</td><td>No</td><td>Page size (default: 20)</td></tr>
                    </tbody>
                </table>

                <h4>Request Body</h4>
                <table>
                    <thead><tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>formUuid</code></td><td>string</td><td>No</td><td>Form UUID filter</td></tr>
                        <tr><td><code>langCode</code></td><td>string</td><td>No</td><td>Language code (e.g., en-US)</td></tr>
                    </tbody>
                </table>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/tasks/filter?page=0&size=20' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'content-type: application/json' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF' \
  --data-raw '{"formUuid":"FF019ACE73F70976DFA062DF0E93EFBCAE","langCode":"en-US"}'</code></pre>
                </div>

                <!-- UPDATE TASK -->
                <h3 id="tasks-update"><span class="method-badge method-put">PUT</span>/api/tasks/{taskId}</h3>
                <p>Update an existing task by ID</p>

                <h4>Path Parameters</h4>
                <table>
                    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>taskId</code></td><td>integer</td><td>‚úÖ</td><td>Task ID from task creation response</td></tr>
                    </tbody>
                </table>

                <h4>Request Body</h4>
                <p>Send only the fields you want to update. All fields from the create task API are supported.</p>
                <table>
                    <thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>taskName</code></td><td>string</td><td>Task title</td></tr>
                        <tr><td><code>taskType</code></td><td>enum</td><td><code>EMAIL</code>, <code>CALL</code>, <code>TODO</code></td></tr>
                        <tr><td><code>queue</code></td><td>enum</td><td>Task queue</td></tr>
                        <tr><td><code>status</code></td><td>enum</td><td>Task status</td></tr>
                        <tr><td><code>priority</code></td><td>enum</td><td><code>HIGH</code>, <code>MEDIUM</code>, <code>LOW</code></td></tr>
                        <tr><td><code>assignedToId</code></td><td>string</td><td>Staff UUID</td></tr>
                        <tr><td><code>dueDate</code></td><td>string</td><td>ISO 8601 format</td></tr>
                        <tr><td><code>description</code></td><td>string</td><td>Task description (HTML supported)</td></tr>
                    </tbody>
                </table>

                <h4>Request Example (Update Priority)</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "priority": "MEDIUM"
}</code></pre>
                </div>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/tasks/536' \
  -X 'PUT' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'content-type: application/json' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF' \
  --data-raw '{"priority":"MEDIUM"}'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <p>Returns the updated task object with the same structure as the create task response.</p>

                <!-- LIST ALL STAFF -->
                <h3 id="staff-list"><span class="method-badge method-get">GET</span>/api/tenant-staff/all/paginated?page={page}&size={size}</h3>
                <p>List all tenant staff with pagination</p>

                <h4>Query Parameters</h4>
                <table>
                    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>page</code></td><td>integer</td><td>No</td><td>Page number (default: 0)</td></tr>
                        <tr><td><code>size</code></td><td>integer</td><td>No</td><td>Page size (default: 20)</td></tr>
                    </tbody>
                </table>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/tenant-staff/all/paginated?page=0&size=20' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF'</code></pre>
                </div>

                <!-- ACCOUNTS -->
                <h2 id="accounts">Accounts</h2>

                <!-- SEARCH ACCOUNTS -->
                <h3 id="accounts-search"><span class="method-badge method-get">GET</span>/api/accounts/linked?keyword={keyword}</h3>
                <p>Search linked accounts by account number or keyword</p>

                <h4>Query Parameters</h4>
                <table>
                    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>keyword</code></td><td>string</td><td>No</td><td>Search by account number or name</td></tr>
                        <tr><td><code>page</code></td><td>integer</td><td>No</td><td>Page number (default: 0)</td></tr>
                        <tr><td><code>size</code></td><td>integer</td><td>No</td><td>Page size (default: 50)</td></tr>
                        <tr><td><code>sort</code></td><td>string</td><td>No</td><td>Sort field (e.g., accountNumber)</td></tr>
                    </tbody>
                </table>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/accounts/linked?page=0&size=50&sort=accountNumber&keyword=11' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>{
  "content": [
    {
      "accountUuid": "14c5c174-4e5f-5be7-bb73-d7d511452ef5",
      "linkState": "linked",
      "linkDate": "2000-01-01T00:00:00",
      "tenantUuid": "T019A16FF372A70B5A9307B00CE85E4DA",
      "accountNumber": "11000457",
      "custodian": "stonex",
      "accountStatus": "O",
      "accountType": "UNKNOWN",
      "marginAccount": true,
      "taxResidency": null,
      "disposalMethodForMutualFunds": "FIFO",
      "disposalMethodForOtherSecurities": "FIFO",
      "w8W9Indicator": null,
      "baseCurrency": "USD",
      "defaultFxCurrency": "USD",
      "positionOnly": true,
      "taxable": true,
      "householdUuid": "H019A691D490478708B45387D9212BA1A",
      "householdName": "Sociedad De Inversiones Macam Limitada",
      "partnershipManagerUuid": "",
      "partnershipManagerName": "",
      "relationshipManagerUuid": "TS019A5F3EFF7476BEA03564E19B3AEBE1",
      "relationshipManagerName": "Sebasti√°n Costa",
      "snapshotDate": "2025-11-27T00:00:00",
      "distinctFxCurrencies": "USD/USDE",
      "trading": "Discretionary",
      "currentEodBalanceClp": 348838258.54,
      "previousEodBalanceClp": 349429695.45,
      "netDepositsClp": 0.00,
      "dayChangeClp": -591436.91,
      "gainLossClp": -591436.91,
      "currentEodBalanceEur": 320815.20,
      "previousEodBalanceEur": 320755.02,
      "netDepositsEur": 0.00,
      "dayChangeEur": 60.18,
      "gainLossEur": 60.18,
      "currentEodBalanceUsd": 375442.02,
      "previousEodBalanceUsd": 375371.59,
      "netDepositsUsd": 0.00,
      "dayChangeUsd": 70.43,
      "gainLossUsd": 70.43
    }
  ],
  "page": 0,
  "size": 50,
  "totalElements": 1,
  "totalPages": 1
}</code></pre>
                </div>

                <!-- LIST ALL ACCOUNTS -->
                <h3 id="accounts-list"><span class="method-badge method-get">GET</span>/api/accounts/linked</h3>
                <p>List all linked accounts with pagination</p>

                <h4>Query Parameters</h4>
                <table>
                    <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>page</code></td><td>integer</td><td>No</td><td>Page number (default: 0)</td></tr>
                        <tr><td><code>size</code></td><td>integer</td><td>No</td><td>Page size (default: 50)</td></tr>
                        <tr><td><code>sort</code></td><td>string</td><td>No</td><td>Sort field (e.g., accountNumber)</td></tr>
                        <tr><td><code>keyword</code></td><td>string</td><td>No</td><td>Leave empty to list all accounts</td></tr>
                    </tbody>
                </table>

                <h4>cURL</h4>
                <div class="code-block-wrapper">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre><code>curl 'https://api.altafid.dev.altafid.net/api/accounts/linked?page=0&size=50&sort=accountNumber&keyword=' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: en-US,en;q=0.5' \
  -H 'authorization: Bearer eyJhbGciOiJIUzI1NiJ9...' \
  -H 'origin: https://conpat.uat.altafid.net' \
  -H 'referer: https://conpat.uat.altafid.net/' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \
  -H 'x-tenant-uuid: T019A16FF372A70B5A9307B00CE85E4DA' \
  -H 'x-user-email: kaboom-poc@yopmail.com' \
  -H 'x-user-id: TS019C06688AA57248B9EA5325DBDFC48E' \
  -H 'x-user-type: TENANT_STAFF'</code></pre>
                </div>

                <h4>Response 200 OK</h4>
                <p>Returns the same structure as the search endpoint with paginated account data.</p>

                <div class="callout info">
                    <strong>üí° Use <code>accountUuid</code></strong> to reference accounts in other API calls
                </div>
            </main>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2026 Altafid. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        function copyCode(btn) {
            const code = btn.nextElementSibling.querySelector('code').textContent;
            navigator.clipboard.writeText(code).then(() => {
                btn.textContent = 'Copied!';
                btn.classList.add('copied');
                setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('copied'); }, 2000);
            });
        }
    </script>
</body>
</html>